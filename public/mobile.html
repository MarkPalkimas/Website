<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Mark Palkimas - Mobile</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap" rel="stylesheet">
  <style>
    :root {
      --primary: #0073e6;
      --accent: #00d084;
      --bg: #ffffff;
      --text: #333333;
    }
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
      font-family: 'Poppins', sans-serif;
    }
    body {
      background: var(--bg);
      color: var(--text);
      display: flex;
      flex-direction: column;
      min-height: 100vh;
      overflow-x: hidden;
    }
    header {
      position: sticky;
      top: 0;
      background: var(--primary);
      color: #fff;
      padding: 1rem;
      display: flex;
      justify-content: space-between;
      align-items: center;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      z-index: 10;
    }
    header .logo {
      font-weight: 600;
      font-size: 1.2rem;
    }
    header .projects-link {
      color: rgba(255,255,255,0.8);
      text-decoration: none;
      padding: 0.5rem 1rem;
      border-radius: 6px;
      transition: background 0.3s;
    }
    header .projects-link:hover {
      background: rgba(255,255,255,0.2);
    }
    main {
      flex: 1;
      padding: 1rem;
      margin-top: 4rem; /* account for sticky header */
    }
    .profile-container {
      text-align: center;
      position: relative;
      margin-bottom: 2rem;
    }
    .profile-photo {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 4px solid var(--primary);
      transition: transform 0.3s;
      cursor: pointer;
    }
    .profile-photo:hover {
      transform: scale(1.05);
    }
    .profile-name {
      margin-top: 1rem;
      font-size: 1.4rem;
      font-weight: 600;
    }
    .about-popup {
      display: none;
      position: absolute;
      top: 75%;
      left: 50%;
      transform: translateX(-50%);
      background: #fff;
      padding: 1rem;
      border-radius: 8px;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      width: 80%;
      max-width: 260px;
      z-index: 20;
    }
    .dimmed {
      display: none;
      position: fixed;
      inset: 0;
      background: rgba(0,0,0,0.5);
      z-index: 15;
      cursor: pointer;
    }
    .gravity-section {
      text-align: center;
      margin: 2rem 0;
    }
    .button {
      display: inline-block;
      background: var(--accent);
      color: #fff;
      border: none;
      padding: 0.75rem 1.5rem;
      border-radius: 6px;
      font-family: inherit;
      font-size: 1rem;
      cursor: pointer;
      transition: transform 0.2s, box-shadow 0.2s;
      margin: 0.5rem;
    }
    .button:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
    }
    .button:active {
      transform: translateY(0);
      box-shadow: none;
    }
    .reset-btn {
      background: #555;
      display: none;
    }
    footer {
      background: var(--primary);
      color: #fff;
      padding: 1.5rem 1rem;
      text-align: center;
    }
    .social-links {
      display: flex;
      justify-content: center;
      gap: 1rem;
      margin-top: 1rem;
    }
    .social-links img {
      width: 32px;
      height: 32px;
      filter: invert(1);
      transition: transform 0.3s;
    }
    .social-links img:hover {
      transform: scale(1.2);
    }
    .falling-quote {
      position: absolute;
      font-size: 0.9rem;
      background: rgba(255,255,255,0.9);
      padding: 0.5rem;
      border-radius: 4px;
      box-shadow: 0 2px 6px rgba(0,0,0,0.1);
    }
    .ball {
      position: absolute;
      border-radius: 50%;
    }
    @keyframes fall {
      to { transform: translateY(120vh); }
    }
  </style>
</head>
<body>
  <div class="dimmed" onclick="hideAbout()"></div>

  <header>
    <div class="logo">Mark Palkimas</div>
    <a href="projects.html" class="projects-link">Projects</a>
  </header>

  <main>
    <section class="profile-container">
      <img src="profile.jpg" alt="Profile Photo" class="profile-photo" onclick="toggleAbout()">
      <div class="profile-name">Hello, I'm Mark</div>
      <div class="about-popup">
        <h2>About Me</h2>
        <p>This section contains more detailed information about me and my professional background.</p>
      </div>
    </section>

    <div class="gravity-section">
      <button class="button gravity-btn" onclick="dropBall()">Drop Ball</button>
      <button class="button reset-btn" onclick="resetBalls()">Reset</button>
    </div>
  </main>

  <footer>
    <h2>Contact Me</h2>
    <div class="social-links">
      <a href="https://www.instagram.com/ya.boimark" target="_blank"><img src="iconmonstr-instagram-11-240.png" alt="Instagram"></a>
      <a href="https://www.linkedin.com/in/mark-palkimas-27514a230/" target="_blank"><img src="iconmonstr-linkedin-1-240.png" alt="LinkedIn"></a>
      <a href="https://github.com/MarkPalkimas" target="_blank"><img src="github-logo.png" alt="GitHub"></a>
      <a href="mailto:mark.palkimas@gmail.com" target="_blank"><img src="iconmonstr-gmail-1-240.png" alt="Gmail"></a>
      <a href="https://www.youtube.com/@markpalkimas" target="_blank"><img src="iconmonstr-youtube-6-240.png" alt="YouTube"></a>
    </div>
    <p>&copy; 2024 Mark Palkimas. All rights reserved.</p>
  </footer>

  <script>
    // --- About Popup ---
    function toggleAbout() {
      document.querySelector('.about-popup').style.display = 'block';
      document.querySelector('.dimmed').style.display = 'block';
    }
    function hideAbout() {
      document.querySelector('.about-popup').style.display = 'none';
      document.querySelector('.dimmed').style.display = 'none';
    }

    // --- Physics & Quotes ---
    const balls = [];
    const GRAVITY = 0.3;
    const RESTITUTION = 0.8;
    const resetBtn = document.querySelector('.reset-btn');
    const footerEl = document.querySelector('footer');
    let quotesStarted = false;
    let quoteStartTime = Date.now();

    function dropBall() {
      const ball = document.createElement('div');
      const diameter = 40 + Math.random() * 30;
      ball.className = 'ball';
      ball.style.width = ball.style.height = diameter + 'px';
      ball.style.left = Math.random() * (window.innerWidth - diameter) + 'px';
      ball.style.top = '0px';
      ball.radius = diameter / 2;
      ball.mass = Math.pow(ball.radius, 2);
      ball.velocityX = Math.random() * 2 - 1;
      ball.velocityY = Math.random() * 4 + 1;
      ball.style.backgroundColor = '#' + Math.random().toString(16).slice(2,8);
      document.body.appendChild(ball);
      balls.push(ball);
      resetBtn.style.display = 'inline-block';

      if (!quotesStarted) {
        startFallingQuotes();
        quotesStarted = true;
      }
    }

    function resetBalls() {
      balls.forEach(b => b.remove());
      balls.length = 0;
      resetBtn.style.display = 'none';
    }

    function startFallingQuotes() {
      setInterval(createFallingQuote, 10000);
      updateQuotes();
    }
    function createFallingQuote() {
      const quotes = [
        "Life isn’t about what you know, It’s about what you’re able to figure out.",
        "The best time to plant a tree is 20 years ago, the second best time is today.",
        "The rich get richer because the poor see every opportunity as a scam",
        "Money is not the key to happiness, it is the key to pursuing opportunities.",
        "Cold water feels warm when your hands are freezing.",
        "Regret is proof you cared. But growth is proof you learned."
      ];
      const text = quotes[Math.floor(Math.random() * quotes.length)];
      const elem = document.createElement('div');
      elem.className = 'falling-quote';
      elem.innerText = text;
      const initLeft = Math.random() * (window.innerWidth - 300);
      elem.dataset.initialLeft = initLeft;
      elem.dataset.amp = 10 + Math.random() * 20;
      elem.dataset.phase = Math.random() * 2 * Math.PI;
      elem.style.left = initLeft + 'px';
      elem.style.top = '-50px';
      elem.style.animation = 'fall 20s linear forwards';
      document.body.appendChild(elem);
      setTimeout(() => elem.remove(), 21000);
    }

    function updateQuotes() {
      const now = Date.now();
      document.querySelectorAll('.falling-quote').forEach(q => {
        const t = (now - quoteStartTime) / 1000;
        const offset = parseFloat(q.dataset.amp) * Math.sin(t + parseFloat(q.dataset.phase));
        q.style.left = (parseFloat(q.dataset.initialLeft) + offset) + 'px';
      });
      requestAnimationFrame(updateQuotes);
    }

    function updateBalls() {
      balls.forEach(ball => {
        ball.velocityY += GRAVITY;
        let x = parseFloat(ball.style.left),
            y = parseFloat(ball.style.top),
            newX = x + ball.velocityX,
            newY = y + ball.velocityY;

        // Walls
        if (newX <= 0 || newX + 2*ball.radius >= window.innerWidth) {
          ball.velocityX = -ball.velocityX * RESTITUTION;
          newX = Math.max(0, Math.min(newX, window.innerWidth - 2*ball.radius));
        }

        // Floor (footer)
        const footerTop = footerEl.getBoundingClientRect().top + window.scrollY;
        if (newY + 2*ball.radius >= footerTop) {
          newY = footerTop - 2*ball.radius;
          ball.velocityY = -ball.velocityY * RESTITUTION;
          ball.velocityX *= RESTITUTION;
        }

        ball.style.left = newX + 'px';
        ball.style.top  = newY + 'px';
      });
      handleBallCollisions();
      handleBallQuoteCollisions();
      requestAnimationFrame(updateBalls);
    }

    function handleBallCollisions() {
      for (let i = 0; i < balls.length; i++) {
        for (let j = i + 1; j < balls.length; j++) {
          const A = balls[i], B = balls[j];
          const xA = parseFloat(A.style.left) + A.radius,
                yA = parseFloat(A.style.top)  + A.radius,
                xB = parseFloat(B.style.left) + B.radius,
                yB = parseFloat(B.style.top)  + B.radius;
          const dx = xB - xA, dy = yB - yA, dist = Math.hypot(dx, dy);
          if (dist < A.radius + B.radius && dist > 0) {
            const nx = dx / dist, ny = dy / dist,
                  tx = -ny, ty = nx;
            const vA_n = A.velocityX*nx + A.velocityY*ny,
                  vA_t = A.velocityX*tx + A.velocityY*ty,
                  vB_n = B.velocityX*nx + B.velocityY*ny,
                  vB_t = B.velocityX*tx + B.velocityY*ty;
            const vA_n_after = (vA_n*(A.mass - B.mass) + 2*B.mass*vB_n) / (A.mass + B.mass),
                  vB_n_after = (vB_n*(B.mass - A.mass) + 2*A.mass*vA_n) / (A.mass + B.mass);
            A.velocityX = vA_n_after*nx + vA_t*tx;
            A.velocityY = vA_n_after*ny + vA_t*ty;
            B.velocityX = vB_n_after*nx + vB_t*tx;
            B.velocityY = vB_n_after*ny + vB_t*ty;
            // Separate overlap
            const overlap = A.radius + B.radius - dist,
                  sepX = nx * overlap / 2,
                  sepY = ny * overlap / 2;
            A.style.left = (parseFloat(A.style.left) - sepX) + 'px';
            A.style.top  = (parseFloat(A.style.top)  - sepY) + 'px';
            B.style.left = (parseFloat(B.style.left) + sepX) + 'px';
            B.style.top  = (parseFloat(B.style.top)  + sepY) + 'px';
          }
        }
      }
    }

    function handleBallQuoteCollisions() {
      document.querySelectorAll('.falling-quote'); // ensure live nodeList
      balls.forEach(ball => {
        const r = ball.radius,
              x = parseFloat(ball.style.left) + r,
              y = parseFloat(ball.style.top)  + r;
        document.querySelectorAll('.falling-quote').forEach(q => {
          const rect = q.getBoundingClientRect(),
                qx = rect.left,
                qy = rect.top + window.scrollY,
                qw = rect.width,
                qh = rect.height;
          if (ball.velocityY > 0 && y < qy) {
            const cx = Math.max(qx, Math.min(x, qx + qw)),
                  cy = Math.max(qy, Math.min(y, qy + qh)),
                  d  = Math.hypot(x - cx, y - cy);
            if (d < r) {
              ball.velocityX = -ball.velocityX * RESTITUTION;
              ball.velocityY = -ball.velocityY * RESTITUTION;
              q.style.transform = 'scale(1.2)';
              setTimeout(() => q.style.transform = 'scale(1)', 200);
            }
          }
        });
      });
    }

    // Start the animation loop
    updateBalls();
  </script>
</body>
</html>
